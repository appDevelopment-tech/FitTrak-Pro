# üéØ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**
–í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Å—Ç—É–¥–µ–Ω—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å, –Ω–æ –Ω–µ –ø–æ—è–≤–ª—è–ª–∏—Å—å –≤ —Å–ø–∏—Å–∫–µ "–£—á–µ–Ω–∏–∫–∏" –≤ –ö–∞–±–∏–Ω–µ—Ç–µ —Ç—Ä–µ–Ω–µ—Ä–∞.

## üîç **–ü—Ä–∏—á–∏–Ω–∞**
–í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (`BYPASS_AUTH = true`) —Å—Ç—É–¥–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏ `studentsDb.getAll()` –∏ `studentsDb.getByTrainerId()` –≤—Å–µ —Ä–∞–≤–Ω–æ –æ–±—Ä–∞—â–∞–ª–∏—Å—å –∫ —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase, –≥–¥–µ —ç—Ç–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–µ –±—ã–ª–æ.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ**

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getByTrainerId`**
–í `client/src/lib/database.ts` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞:

**–ë—ã–ª–æ:**
```tsx
async getByTrainerId(trainerId: number) {
  const { data, error } = await supabase
    .from('students')
    .select('*')
    .eq('trainer_id', trainerId)
    .order('created_at', { ascending: false });
  // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
}
```

**–°—Ç–∞–ª–æ:**
```tsx
async getByTrainerId(trainerId: number) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∫–ª—é—á–µ–Ω –ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
  const isTestMode = import.meta.env.VITE_BYPASS_AUTH === 'true' || 
                    !import.meta.env.VITE_SUPABASE_URL || 
                    !import.meta.env.VITE_SUPABASE_ANON_KEY;
  
  if (isTestMode) {
    // –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
    return [
      {
        id: 1,
        trainerId: 1,
        firstName: '–ò–≤–∞–Ω',
        lastName: '–ò–≤–∞–Ω–æ–≤',
        // ... –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç–∞
      },
      {
        id: 2,
        trainerId: 1,
        firstName: '–°—Ç—É–¥–µ–Ω—Ç_1',
        lastName: '–°—Ç—É–¥–µ–Ω—Ç–æ–≤–∏—á_1',
        // ... –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç–∞
      }
    ] as Pupil[];
  }
  
  // –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  const { data, error } = await supabase
    .from('students')
    .select('*')
    .eq('trainer_id', trainerId)
    .order('created_at', { ascending: false });
  // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
}
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getAll`**
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ `getAll()`.

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–¢–µ–ø–µ—Ä—å –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:

1. **‚úÖ –°—Ç—É–¥–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ** - "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" –∏ "–°—Ç—É–¥–µ–Ω—Ç_1 –°—Ç—É–¥–µ–Ω—Ç–æ–≤–∏—á_1"
2. **‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ö–∞–±–∏–Ω–µ—Ç ‚Üí –£—á–µ–Ω–∏–∫–∏** - —Ç—Ä–µ–Ω–µ—Ä –≤–∏–¥–∏—Ç –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
3. **‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ** - —Å—Ç—É–¥–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è
4. **‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –ø–ª–∞–Ω—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫** - —Å—Ç—É–¥–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤

## üß™ **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**

### –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º:
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ —Ç—Ä–µ–Ω–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ö–∞–±–∏–Ω–µ—Ç ‚Üí –£—á–µ–Ω–∏–∫–∏**
3. ‚úÖ –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:
   - **–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤** (ivan@example.com)
   - **–°—Ç—É–¥–µ–Ω—Ç_1 –°—Ç—É–¥–µ–Ω—Ç–æ–≤–∏—á_1** (student1@example.com)

### –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º:
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –≤ —Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
3. ‚úÖ –°—Ç—É–¥–µ–Ω—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üîß **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±–µ—Å–ø–µ—á–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ

## üìã **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

```tsx
{
  id: 2,
  trainerId: 1,
  firstName: '–°—Ç—É–¥–µ–Ω—Ç_1',
  lastName: '–°—Ç—É–¥–µ–Ω—Ç–æ–≤–∏—á_1',
  phone: '+7 (999) 987-65-43',
  email: 'student1@example.com',
  birthDate: '1995-05-15',
  weight: 70,
  height: 175,
  goal: '–ù–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã',
  status: 'active',
  joinDate: '2024-01-15',
  // ... –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
}
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–î–∞—Ç–∞:** $(date)  
**–§–∞–π–ª—ã:** 
- `client/src/lib/database.ts`
